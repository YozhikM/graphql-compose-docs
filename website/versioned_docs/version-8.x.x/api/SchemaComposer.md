---
id: version-8.x.x-SchemaComposer
title: SchemaComposer
custom_edit_url: https://github.com/graphql-compose/graphql-compose/blob/master/src/SchemaComposer.d.ts
original_id: SchemaComposer
---

<!-- 
ðŸ›‘ðŸ›‘ðŸ›‘
DO NOT EDIT THIS FILE!
IT WAS AUTO-GENERATED FROM d.ts FILE
ðŸ›‘ðŸ›‘ðŸ›‘
If you want to make changes in this file, please do it via
https://github.com/graphql-compose/graphql-compose/blob/master/src/SchemaComposer.d.ts
-->

`SchemaComposer` is a class which helps to create `GraphQLSchema`.

## Getters

### Query

```js
Query: ObjectTypeComposer<any, TContext>;
```

Returns `ObjectTypeComposer` of `Query` root type.

```js
import { schemaComposer } from 'graphql-compose';
schemaComposer.Query.addFields({ field1: 'String' });
```

### Mutation

```js
Mutation: ObjectTypeComposer<any, TContext>;
```

Returns `ObjectTypeComposer` of `Mutation` root type.

```js
import { schemaComposer } from 'graphql-compose';
schemaComposer.Mutation.addFields({ field1: 'String' });
```

### Subscription

```js
Subscription: ObjectTypeComposer<any, TContext>;
```

Returns `ObjectTypeComposer` of `Subscription` root type.

```js
import { schemaComposer } from 'graphql-compose';
schemaComposer.Subscription.addFields({ field1: 'String' });
```

## Properties

### typeMapper

```js
typeMapper: TypeMapper<TContext>;
```

## Methods

### buildSchema()

```js
buildSchema(
  extraConfig: ExtraSchemaConfig
): GraphQLSchema
```

Create `GraphQLSchema` instance from defined types.
This instance can be provided to `express-graphql`, `apollo-server`, `graphql-yoga` etc.

### addSchemaMustHaveType()

```js
addSchemaMustHaveType(
  type: AnyType<TContext>
): this
```

When using Interfaces you may have such Types which are hidden under Interface.resolveType method. In such cases you should add these types explicitly. Cause `buildSchema()` will take only real used types and types which added via `addSchemaMustHaveType()` method.

### removeEmptyTypes()

```js
removeEmptyTypes(
  tc: ObjectTypeComposer<any, TContext>,
  passedTypes: Set<string>
): void
```

Deeply traverse fields in Query, Mutation, Subscription & sub-objects
where will be removed all fields with empty object types (without sub-fields).

### clone()

```js
clone(): SchemaComposer<any>
```

Clone schema with deep cloning of all its types.
Except Scalar types which will be the same for both schemas.

### merge()

```js
merge(
  schema: GraphQLSchema | SchemaComposer<any>
): this
```

Load all types from GraphQLSchema and merge with current SchemaComposer's types.

```js
import { schemaComposer } from 'graphql-compose';
schemaComposer.merge(someSchema1);
schemaComposer.merge(someSchema2);
schemaComposer.merge(someSchema3);
schemaComposer.getOTC('User').removeField('password');
const newSchema = schemaComposer.buildSchema();
```

### getDescription()

```js
getDescription(): string | undefined
```

### setDescription()

```js
setDescription(
  description: string | undefined
): this
```

### addTypeDefs()

```js
addTypeDefs(
  typeDefs: string
): TypeStorage<string, NamedTypeComposer<any>>
```

-----------------------------------------------
Like graphql-tools methods
-----------------------------------------------
Add types to Schema via SDL string. Returns a Map of parsed types.

```js
const schemaComposer = new SchemaComposer();
schemaComposer.addTypeDefs(`
      type Post {
        id: Int!
        title: String
        votes: Int
      }
      enum Sort {
        ASC
        DESC
      }
    `);
```

After that your added types will be available for referencing via string, eg.

```js
ObjectTypeComposer.create({
  name: 'Author',
  fields: {
    posts: {
      type: '[Post!]',
      args: {
        sort: 'Sort'
      },
      resolve: () => {}
    }
  }
});
```

### addResolveMethods()

```js
addResolveMethods(
  typesFieldsResolve: GraphQLToolsResolveMethods<TContext>
): void
```

Define `resolve` methods for Types in `graphql-tools` manner.

```js
declare function addResolveMethods(typesFieldsResolve: {
  [typeName: string]: {
    [fieldName: string]: (
      source: any,
      args: Object,
      context: TContext,
      info: GraphQLResolveInfo
    ) => any;
  };
}): void;
```

More details can be found in [issue #142](https://github.com/graphql-compose/graphql-compose/issues/142).

### createObjectTC()

```js
createObjectTC(
  typeDef: ObjectTypeComposerDefinition<any, TContext>
): ObjectTypeComposer<any, TContext>
```

-----------------------------------------------
Type methods
-----------------------------------------------

### createInputTC()

```js
createInputTC(
  typeDef: InputTypeComposerDefinition
): InputTypeComposer<TContext>
```

### createEnumTC()

```js
createEnumTC(
  typeDef: EnumTypeComposerDefinition
): EnumTypeComposer<TContext>
```

### createInterfaceTC()

```js
createInterfaceTC(
  typeDef: InterfaceTypeComposerDefinition<any, TContext>
): InterfaceTypeComposer<any, TContext>
```

### createUnionTC()

```js
createUnionTC(
  typeDef: UnionTypeComposerDefinition<any, TContext>
): UnionTypeComposer<any, TContext>
```

### createScalarTC()

```js
createScalarTC(
  typeDef: ScalarTypeComposerDefinition
): ScalarTypeComposer<TContext>
```

### createResolver()

```js
createResolver(
  opts: ResolverDefinition<any, TContext>
): Resolver<any, TContext>
```

### createTC()

```js
createTC(
  typeOrSDL: ComposeOutputTypeDefinition<any> | ComposeInputTypeDefinition
): NamedTypeComposer<TContext>
```

Creates or return existed TypeComposer from SDL or object.
If you call this method again with same params should be returned the same TypeComposer instance.

### createTempTC()

```js
createTempTC(
  typeOrSDL: ComposeOutputTypeDefinition<any> | ComposeInputTypeDefinition
): NamedTypeComposer<TContext>
```

Creates TypeComposer from SDL or object without adding it to the type storage.

### getOrCreateTC()

```js
getOrCreateTC(
  typeName: string,
  onCreate: (tc: ObjectTypeComposer<any, TContext>) => any
): ObjectTypeComposer<any, TContext>
```

### getOrCreateOTC()

```js
getOrCreateOTC(
  typeName: string,
  onCreate: (tc: ObjectTypeComposer<any, TContext>) => any
): ObjectTypeComposer<any, TContext>
```

### getOrCreateITC()

```js
getOrCreateITC(
  typeName: string,
  onCreate: (tc: InputTypeComposer<TContext>) => any
): InputTypeComposer<TContext>
```

### getOrCreateETC()

```js
getOrCreateETC(
  typeName: string,
  onCreate: (tc: EnumTypeComposer<TContext>) => any
): EnumTypeComposer<TContext>
```

### getOrCreateIFTC()

```js
getOrCreateIFTC(
  typeName: string,
  onCreate: (tc: InterfaceTypeComposer<any, TContext>) => any
): InterfaceTypeComposer<any, TContext>
```

### getOrCreateUTC()

```js
getOrCreateUTC(
  typeName: string,
  onCreate: (tc: UnionTypeComposer<any, TContext>) => any
): UnionTypeComposer<any, TContext>
```

### getOrCreateSTC()

```js
getOrCreateSTC(
  typeName: string,
  onCreate: (tc: ScalarTypeComposer<TContext>) => any
): ScalarTypeComposer<TContext>
```

### getOTC()

```js
getOTC(
  typeName: unknown
): ObjectTypeComposer<any, TContext>
```

### getITC()

```js
getITC(
  typeName: unknown
): InputTypeComposer<TContext>
```

### getETC()

```js
getETC(
  typeName: unknown
): EnumTypeComposer<TContext>
```

### getIFTC()

```js
getIFTC(
  typeName: unknown
): InterfaceTypeComposer<any, TContext>
```

### getUTC()

```js
getUTC(
  typeName: unknown
): UnionTypeComposer<any, TContext>
```

### getSTC()

```js
getSTC(
  typeName: unknown
): ScalarTypeComposer<TContext>
```

### getAnyTC()

```js
getAnyTC(
  typeOrName: string | AnyType<any> | GraphQLType
): NamedTypeComposer<TContext>
```

### addAsComposer()

```js
addAsComposer(
  typeOrSDL: ComposeOutputTypeDefinition<any> | ComposeInputTypeDefinition
): string
```

### isObjectType()

```js
isObjectType(
  type: string | AnyType<any> | GraphQLType
): boolean
```

### isInputObjectType()

```js
isInputObjectType(
  type: string | AnyType<any> | GraphQLType
): boolean
```

### isScalarType()

```js
isScalarType(
  type: string | AnyType<any> | GraphQLType
): boolean
```

### isEnumType()

```js
isEnumType(
  type: string | AnyType<any> | GraphQLType
): boolean
```

### isInterfaceType()

```js
isInterfaceType(
  type: string | AnyType<any> | GraphQLType
): boolean
```

### isUnionType()

```js
isUnionType(
  type: string | AnyType<any> | GraphQLType
): boolean
```

### clear()

```js
clear(): void
```

-----------------------------------------------
Storage methods
-----------------------------------------------

### add()

```js
add(
  typeOrSDL: ComposeOutputTypeDefinition<any> | ComposeInputTypeDefinition
): string
```

### set()

```js
set(
  key: unknown,
  value: NamedTypeComposer<TContext>
): this
```

### addDirective()

```js
addDirective(
  directive: GraphQLDirective
): this
```

-----------------------------------------------
Directive methods
-----------------------------------------------

### removeDirective()

```js
removeDirective(
  directive: GraphQLDirective
): this
```

### getDirectives()

```js
getDirectives(): Array<GraphQLDirective>
```

### getDirective()

```js
getDirective(
  name: string
): GraphQLDirective
```

### hasDirective()

```js
hasDirective(
  directive: string | GraphQLDirective
): boolean
```

### toString()

```js
toString(): string
```

-----------------------------------------------
Misc methods
-----------------------------------------------

### toJSON()

```js
toJSON(): string
```

### inspect()

```js
inspect(): string
```

### getTypeSDL()

```js
getTypeSDL(
  typeName: string,
  opts: SchemaPrinterOptions & {
      deep?: boolean;
      sortTypes?: boolean;
      exclude?: string[];
  }
): string
```

Prints SDL for any type in schema by its name.

Can print all used sub-types if provided `deep: true` option.
Also you may omit some sub-types via `exclude: string[]` option.

### toSDL()

```js
toSDL(
  options: SchemaComposerPrinterOptions
): string
```

Return schema as a SDL string.
This SDL can be used with graphql-tools and Apollo Federation.

### getResolveMethods()

```js
getResolveMethods(
  opts: {
      exclude?: string[] | null;
  }
): GraphQLToolsResolveMethods<TContext>
```

Returns a map of resolvers for each relevant GraphQL Object Type.

This map of Resolvers can be used with graphql-tools and Apollo Federation.

## Internal type definitions

### ExtraSchemaConfig

```js
type ExtraSchemaConfig = {
  description?: string | null;
  types?: GraphQLNamedType[] | null;
  directives?: GraphQLDirective[] | null;
  extensions?: any | null;
  astNode?: SchemaDefinitionNode | null;
  extensionASTNodes?: ReadonlyArray<SchemaExtensionNode> | null;
  /** You may pass all unused types from type registry to GraphQL schema if set this option to `true` */
  keepUnusedTypes?: boolean | null;
};
```

### GraphQLToolsResolveMethods

```js
export type GraphQLToolsResolveMethods<TContext> = {
  [typeName: string]:
    | {
        [fieldName: string]:
          | ((
              source: any,
              args: Record<string, any>,
              context: TContext,
              info: GraphQLResolveInfo
            ) => any)
          | string
          | number
          | Record<string, any>;
      }
    | GraphQLNamedType
    | GraphQLScalarTypeConfig<any, any>;
};
```
